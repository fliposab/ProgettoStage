[gd_scene load_steps=19 format=3 uid="uid://bavgupsqvucrs"]

[ext_resource type="Script" uid="uid://bono654lxr265" path="res://code/player.gd" id="1_merdl"]
[ext_resource type="Script" uid="uid://bnne6rsf4vd73" path="res://code/state_machine/states/player_ground_state.gd" id="2_b0kkn"]
[ext_resource type="PackedScene" uid="uid://dvtnf4htrec8s" path="res://models/player.glb" id="2_dchgp"]
[ext_resource type="Script" uid="uid://baxpf5pqqy5bg" path="res://code/state_machine/statemachine.gd" id="2_e4p34"]
[ext_resource type="Script" uid="uid://cpeg5vpa2ovm6" path="res://code/player/player_collectibles.gd" id="2_qsoyl"]
[ext_resource type="PackedScene" uid="uid://coafh0oo0yh4f" path="res://entities/Player/player_save_handler.tscn" id="3_ef06p"]
[ext_resource type="Script" uid="uid://dbqwucnh0drio" path="res://code/player/skeleton_3d.gd" id="3_kdgjc"]
[ext_resource type="Script" uid="uid://cm21dif6ji0gp" path="res://code/state_machine/states/player_jump_state.gd" id="4_rfe5m"]
[ext_resource type="Script" uid="uid://cf5rxg6jfeljl" path="res://code/saves/player_saves_handler.gd" id="4_tjdhl"]
[ext_resource type="PackedScene" uid="uid://c0wgwsfgnt3ax" path="res://entities/camera_raycast.tscn" id="5_qly61"]
[ext_resource type="Script" uid="uid://ddd3gv5leyy4b" path="res://code/player/player_movement.gd" id="5_x08pd"]
[ext_resource type="PackedScene" uid="uid://b5yb44m1p21ax" path="res://ui/collectibles_ui.tscn" id="7_6nm46"]
[ext_resource type="PackedScene" uid="uid://bu4ctaknncujn" path="res://entities/respawn_point.tscn" id="7_i623q"]
[ext_resource type="Script" uid="uid://bwysmcgwjxr43" path="res://code/state_machine/states/ground_move.gd" id="10_q0i8f"]
[ext_resource type="Script" uid="uid://blhi14wa3153j" path="res://code/state_machine/states/interact_state.gd" id="12_oprnr"]
[ext_resource type="PackedScene" uid="uid://c53auo3nnhq7r" path="res://entities/Player/collect_area.tscn" id="15_0i614"]
[ext_resource type="PackedScene" uid="uid://l6t1uan5ppyr" path="res://entities/shadow_decal.tscn" id="17_8rie4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_qly61"]
radius = 0.2
height = 1.43323

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
floor_max_angle = 0.523599
script = ExtResource("1_merdl")
speed = 400.0
jump = 14.0

[node name="Model" parent="." instance=ExtResource("2_dchgp")]

[node name="Armature" parent="Model" index="0"]
transform = Transform3D(-0.15, 0, -1.31134e-08, 0, 0.15, 0, 1.31134e-08, 0, -0.15, 0, 0, 0)

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/1/position = Vector3(0, 3.84044, 0.138635)
bones/1/rotation = Quaternion(-0.00596624, -1.02713e-25, 1.72353e-18, 0.999982)
bones/2/rotation = Quaternion(0.00596624, 1.02915e-25, -1.72353e-18, 0.999982)
bones/7/rotation = Quaternion(0.0233332, 0.363725, -0.878, 0.310284)
bones/8/rotation = Quaternion(0.199701, -6.41515e-09, -6.62563e-08, 0.979857)
bones/9/rotation = Quaternion(0.294851, -6.47267e-09, -1.2589e-07, 0.955543)
bones/10/rotation = Quaternion(-0.0510753, -0.00363084, -0.112103, 0.992377)
bones/11/rotation = Quaternion(0.049143, -0.289197, 0.905287, 0.307256)
bones/12/rotation = Quaternion(0.0160817, 2.40546e-09, 4.32379e-08, 0.999871)
bones/13/rotation = Quaternion(0.414254, 1.27188e-09, 2.22043e-07, 0.910161)
bones/14/rotation = Quaternion(-0.0769091, 0.00363391, 0.112197, 0.990699)
bones/15/rotation = Quaternion(0.960393, 0.0640046, -0.0960665, 0.253615)
bones/15/scale = Vector3(1, 1, 1.00001)
bones/16/rotation = Quaternion(0.25005, -1.56615e-09, 0.000772831, 0.968233)
bones/17/rotation = Quaternion(0.410664, 4.00614e-08, 0.00126909, 0.911786)
bones/18/rotation = Quaternion(-0.395764, 0.00117326, 0.036678, 0.917619)
bones/19/rotation = Quaternion(0.981876, -0.0533215, 0.102285, 0.150379)
bones/20/rotation = Quaternion(0.0445211, -1.4238e-07, -0.000137002, 0.999008)
bones/21/rotation = Quaternion(0.53128, -9.09786e-08, -0.00164146, 0.847194)
bones/22/rotation = Quaternion(-0.427598, -0.00119056, -0.0371349, 0.903205)
bones/23/position = Vector3(0.973042, 2.18657, -3.93359e-08)
bones/23/rotation = Quaternion(0.707106, 0.001093, 0.001093, 0.707106)
bones/25/position = Vector3(1.19363, 3.19957, 1.31322)
bones/26/position = Vector3(-0.973042, 2.18657, -3.93359e-08)
bones/26/rotation = Quaternion(0.707106, -0.001093, -0.001093, 0.707106)
bones/28/position = Vector3(-1.19363, 3.19957, 1.31322)
bones/29/position = Vector3(2.80394, 4.56957, -0.373263)
bones/29/rotation = Quaternion(-0.0503453, -0.0451223, -0.588757, 0.805478)
bones/31/position = Vector3(2.65074, 6.18134, -3.18668)
bones/32/position = Vector3(-2.80394, 4.56957, -0.373263)
bones/32/rotation = Quaternion(-0.0503453, 0.0451224, 0.588757, 0.805478)
bones/34/position = Vector3(-2.65074, 6.18134, -3.18668)
script = ExtResource("3_kdgjc")

[node name="SpringBoneSimulator3D" type="SpringBoneSimulator3D" parent="Model/Armature/Skeleton3D" index="1"]
setting_count = 1
settings/0/root_bone_name = "antenna1"
settings/0/root_bone = 4
settings/0/end_bone_name = "antenna3"
settings/0/end_bone = 6
settings/0/extend_end_bone = false
settings/0/center_from = 0
settings/0/individual_config = false
settings/0/rotation_axis = 3
settings/0/radius/value = 0.02
settings/0/radius/damping_curve = null
settings/0/stiffness/value = 4.0
settings/0/stiffness/damping_curve = null
settings/0/drag/value = 0.4
settings/0/drag/damping_curve = null
settings/0/gravity/value = 0.1
settings/0/gravity/damping_curve = null
settings/0/gravity/direction = Vector3(0, -1, 0)
settings/0/enable_all_child_collisions = true
settings/0/exclude_collision_count = 0

[node name="Decal" parent="Model/Armature" index="1" instance=ExtResource("17_8rie4")]
transform = Transform3D(-6.66667, 0, 5.82818e-07, 0, 6.66667, 0, -5.82818e-07, 0, -6.66667, 0.659412, -21.11, 5.76475e-08)
distance_fade_enabled = true

[node name="Misc" type="Node" parent="."]

[node name="Collectibles" type="Node" parent="Misc"]
script = ExtResource("2_qsoyl")

[node name="PlayerSaveHandler" parent="Misc" instance=ExtResource("3_ef06p")]
script = ExtResource("4_tjdhl")
red_training_data_count = 0
blue_training_data_count = 0
green_training_data_count = 0

[node name="Movement" type="Node" parent="Misc"]
script = ExtResource("5_x08pd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.689824, 0)
shape = SubResource("CapsuleShape3D_qly61")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_e4p34")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("2_b0kkn")

[node name="GroundMove" type="Node" parent="StateMachine"]
script = ExtResource("10_q0i8f")

[node name="Air" type="Node" parent="StateMachine"]
script = ExtResource("4_rfe5m")

[node name="Interact" type="Node" parent="StateMachine"]
script = ExtResource("12_oprnr")

[node name="CameraRaycast" parent="." instance=ExtResource("5_qly61")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.56907, 0)
speed = Vector2(1, 2)

[node name="RespawnPoint" parent="." instance=ExtResource("7_i623q")]

[node name="PlayerUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="PanelContainer" parent="PlayerUI" instance=ExtResource("7_6nm46")]
layout_mode = 1
offset_left = 20.0
offset_top = 20.0
offset_right = 133.0
offset_bottom = 65.0

[node name="CollectArea" parent="." instance=ExtResource("15_0i614")]

[connection signal="changed" from="Misc/Collectibles" to="PlayerUI/PanelContainer" method="change_text_count"]

[editable path="Model"]
