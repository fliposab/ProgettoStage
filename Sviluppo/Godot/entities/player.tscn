[gd_scene load_steps=15 format=3 uid="uid://bavgupsqvucrs"]

[ext_resource type="Script" uid="uid://bono654lxr265" path="res://code/player.gd" id="1_merdl"]
[ext_resource type="Script" uid="uid://bnne6rsf4vd73" path="res://code/state_machine/states/player_ground_state.gd" id="2_b0kkn"]
[ext_resource type="PackedScene" uid="uid://dvtnf4htrec8s" path="res://models/player.glb" id="2_dchgp"]
[ext_resource type="Script" uid="uid://baxpf5pqqy5bg" path="res://code/state_machine/statemachine.gd" id="2_e4p34"]
[ext_resource type="Script" uid="uid://cpeg5vpa2ovm6" path="res://code/player/player_collectibles.gd" id="2_qsoyl"]
[ext_resource type="PackedScene" uid="uid://coafh0oo0yh4f" path="res://entities/Player/player_save_handler.tscn" id="3_ef06p"]
[ext_resource type="Script" uid="uid://dbqwucnh0drio" path="res://code/player/skeleton_3d.gd" id="3_kdgjc"]
[ext_resource type="Script" uid="uid://cm21dif6ji0gp" path="res://code/state_machine/states/player_jump_state.gd" id="4_rfe5m"]
[ext_resource type="Script" uid="uid://cf5rxg6jfeljl" path="res://code/saves/player_saves_handler.gd" id="4_tjdhl"]
[ext_resource type="PackedScene" uid="uid://c0wgwsfgnt3ax" path="res://entities/camera_raycast.tscn" id="5_qly61"]
[ext_resource type="Script" uid="uid://ddd3gv5leyy4b" path="res://code/player/player_movement.gd" id="5_x08pd"]
[ext_resource type="PackedScene" uid="uid://b5yb44m1p21ax" path="res://ui/collectibles_ui.tscn" id="7_6nm46"]
[ext_resource type="PackedScene" uid="uid://bu4ctaknncujn" path="res://entities/respawn_point.tscn" id="7_i623q"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_qly61"]
radius = 0.2

[node name="Player" type="CharacterBody3D"]
collision_layer = 2
floor_max_angle = 0.523599
script = ExtResource("1_merdl")
speed = 400.0
jump = 14.0

[node name="Model" parent="." instance=ExtResource("2_dchgp")]

[node name="Armature" parent="Model" index="0"]
transform = Transform3D(-0.15, 0, -1.31134e-08, 0, 0.15, 0, 1.31134e-08, 0, -0.15, 0, 0, 0)

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/1/position = Vector3(0, 4.03612, 0)
bones/1/rotation = Quaternion(-0.00776203, -1.03401e-25, 1.72352e-18, 0.99997)
bones/7/rotation = Quaternion(0.0537756, 0.334557, -0.90314, 0.263664)
bones/8/rotation = Quaternion(0.150995, -1.63114e-09, -5.92344e-08, 0.988535)
bones/9/rotation = Quaternion(0.21481, -1.73285e-08, -9.57551e-08, 0.976656)
bones/10/rotation = Quaternion(-0.0189106, -0.00404003, -0.124737, 0.992001)
bones/11/rotation = Quaternion(0.07276, -0.268162, 0.925029, 0.259068)
bones/12/rotation = Quaternion(-0.00958179, 3.85106e-09, -1.57397e-09, 0.999954)
bones/13/rotation = Quaternion(0.318808, 6.98569e-09, 1.68935e-07, 0.947819)
bones/14/rotation = Quaternion(-0.0378667, 0.00403971, 0.124727, 0.99146)
bones/15/rotation = Quaternion(0.98349, 0.0390792, -0.0948617, 0.149069)
bones/16/rotation = Quaternion(0.132916, -1.8008e-09, 0.000410807, 0.991127)
bones/17/rotation = Quaternion(0.1974, 4.37285e-08, 0.000610021, 0.980323)
bones/18/rotation = Quaternion(-0.170589, 0.000695971, 0.021954, 0.985098)
bones/19/rotation = Quaternion(0.991838, -0.0317217, 0.0974576, 0.0758548)
bones/20/rotation = Quaternion(-0.0154705, -8.88468e-08, 4.81448e-05, 0.99988)
bones/21/rotation = Quaternion(0.28643, -5.5381e-08, -0.000885028, 0.958101)
bones/22/rotation = Quaternion(-0.187428, -0.000697779, -0.0219599, 0.982033)
bones/23/position = Vector3(0.973042, 2.18657, -3.93359e-08)
bones/25/position = Vector3(1.19363, 3.19957, 1.31322)
bones/26/position = Vector3(-0.973042, 2.18657, -3.93359e-08)
bones/28/position = Vector3(-1.19363, 3.19957, 1.31322)
bones/29/position = Vector3(2.68041, 4.60663, -0.657404)
bones/29/rotation = Quaternion(-1.49111e-07, -1.02005e-07, -0.625419, 0.780289)
bones/31/position = Vector3(2.65074, 6.18134, -3.18668)
bones/32/position = Vector3(-2.68041, 4.60663, -0.657404)
bones/32/rotation = Quaternion(-1.49111e-07, 1.02005e-07, 0.625419, 0.780289)
bones/34/position = Vector3(-2.65074, 6.18134, -3.18668)
script = ExtResource("3_kdgjc")

[node name="SpringBoneSimulator3D" type="SpringBoneSimulator3D" parent="Model/Armature/Skeleton3D" index="1"]
setting_count = 1
settings/0/root_bone_name = "antenna1"
settings/0/root_bone = 4
settings/0/end_bone_name = "antenna3"
settings/0/end_bone = 6
settings/0/extend_end_bone = false
settings/0/center_from = 0
settings/0/individual_config = false
settings/0/rotation_axis = 3
settings/0/radius/value = 0.02
settings/0/radius/damping_curve = null
settings/0/stiffness/value = 4.0
settings/0/stiffness/damping_curve = null
settings/0/drag/value = 0.4
settings/0/drag/damping_curve = null
settings/0/gravity/value = 0.1
settings/0/gravity/damping_curve = null
settings/0/gravity/direction = Vector3(0, -1, 0)
settings/0/enable_all_child_collisions = true
settings/0/exclude_collision_count = 0

[node name="Misc" type="Node" parent="."]

[node name="Collectibles" type="Node" parent="Misc"]
script = ExtResource("2_qsoyl")

[node name="PlayerSaveHandler" parent="Misc" instance=ExtResource("3_ef06p")]
script = ExtResource("4_tjdhl")
red_training_data_count = 0
blue_training_data_count = 0
green_training_data_count = 0

[node name="Movement" type="Node" parent="Misc"]
script = ExtResource("5_x08pd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.986641, 0)
shape = SubResource("CapsuleShape3D_qly61")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_e4p34")
initial_state = NodePath("Ground")

[node name="Ground" type="Node" parent="StateMachine"]
script = ExtResource("2_b0kkn")

[node name="Air" type="Node" parent="StateMachine"]
script = ExtResource("4_rfe5m")

[node name="CameraRaycast" parent="." instance=ExtResource("5_qly61")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.04115, 0)
speed = Vector2(1, 2)

[node name="RespawnPoint" parent="." instance=ExtResource("7_i623q")]

[node name="PlayerUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="PanelContainer" parent="PlayerUI" instance=ExtResource("7_6nm46")]
layout_mode = 1
offset_left = 20.0
offset_top = 20.0
offset_right = 133.0
offset_bottom = 65.0

[connection signal="changed" from="Misc/Collectibles" to="PlayerUI/PanelContainer" method="change_text_count"]

[editable path="Model"]
